{% extends "base.html" %}
{% block content %}
{% load static %}


<!DOCTYPE html>
<title>BucOverflow</title>
<body>
  
  <section style="background-color:  #041E42;"class="hero is-small is-success mb-4">
    <div class="hero-body">
        <h1  class="title is-1">Discussions</h1>
    </div> 
  </section>



      <section class="container">
        <div class="columns">
            <div class="column is-2">
              <a class="button is-primary is-block is-alt is-large" href="/bucoverflow/createpost">New Post</a>
              <div class="box content">
                <h1>Meme of the Day</h1>
              </div>

            </div>
            <div class="column is-9">
              <div class="box content">
                {% for post in posts %}
                <article class="post" style="padding-bottom: 25px;">
                  <div class="media">
                    <div class="media-left"><p>posted by <a href="profile/{{post.user.slug}}/">{{ post.user }}</a></p></div>
                    <div class="media-content"></div>
                    <div class="media-right"><p>{{ post.created_at }}</p></div>
                  </div>
                  <h4><a href="post/{{post.slug}}/">{{ post.title }}</a> <span class="tag is-primary is-medium ">Tag example</span> </h4>
                  <p>{{post}}</p>
                  {% if post.comments.all.0 %}
                  <div class="media">
                    <div class="media-left">
                      <p class="image is-32x32">
                        <!---<img src="http://bulma.io/images/placeholders/128x128.png">-->
                        <img style="border-radius: 50%;" src="{% static 'profile.jpg' %}"  width="112" height="112">
                      </p>
                    </div>
                    <div class="media-content">
                      <div class="content">
                        <p>
                          <a href="profile/{{post.comments.all.0.user.slug }}/">{{ post.comments.all.0.user }}</a> replied {{post.comments.all.0.created_at}}  &nbsp;
                          <span class="tag">Question</span>
                        </p>
                      </div>
                    </div>
                    <div class="media-right">
                      <span class="has-text-grey-light"><i class="fa fa-comments"></i> {{ post.comments.all.count }} comment(s)</span>
                    </div>
                  </div>
                  <div class="media"></div>
                  {% else %}
                  <div class="media"></div>
                  <div class="media"></div>
                  {% endif  %}
                </article>

                {% endfor %}
               
              </div>
          </div>
        </div>
      </section>
</body>
</html>

{% endblock content%}